<html>
<!-- 

// mountain
[{"x":610,"y":325},{"x":620,"y":375},{"x":870,"y":273},{"x":950,"y":300},{"x":1126,"y":348},{"x":435,"y":653},{"x":820,"y":455},{"x":880,"y":490},{"x":1040,"y":460},{"x":1120,"y":500},{"x":760,"y":615},{"x":895,"y":740},{"x":1050,"y":730},{"x":1000,"y":815},{"x":1475,"y":760},{"x":1490,"y":560},{"x":1490,"y":480},{"x":1275,"y":680},{"x":1213,"y":563},{"x":1210,"y":486}]

// forest
[{"x":1069,"y":167},{"x":619,"y":362},{"x":757,"y":348},{"x":857,"y":334},{"x":992,"y":291},{"x":772,"y":431},{"x":952,"y":460},{"x":1177,"y":360},{"x":753,"y":541},{"x":1230,"y":470},{"x":454,"y":645},{"x":491,"y":743},{"x":650,"y":800},{"x":740,"y":890},{"x":435,"y":535},{"x":1485,"y":475},{"x":753,"y":693},{"x":1192,"y":576},{"x":1246,"y":636},{"x":1423,"y":703}]
 -->
<script>
    const positionCount = 1000;
    const mapSize = 1000;
    let positions = new Array(positionCount);
    let flag = new Array(mapSize);
    for (var i = 0; i < mapSize; ++i) {
        flag[i] = new Array(mapSize);
        for (var j = 0; j < mapSize; ++j) {
            flag[i][j] = false;
        }
    }
    let index = 1;
    positions[1] = { x: mapSize / 2, y: mapSize / 2 };
    flag[mapSize / 2][mapSize / 2] = true;
    for (index = 2; index < positionCount; ++index) {
        let newPos = calculate();
        positions[index] = newPos;
        if (newPos == undefined) {
            console.log(index, newPos);
        } else {
            flag[newPos.x][newPos.y] = true;
        }
    }

    for (var i = 1; i < positionCount; ++i) {
        positions[i].x -= mapSize / 2;
        positions[i].y -= mapSize / 2;
    }
    console.log(positions);

    function sDistance(newPos) {
        var sum = 0;
        for (var i = 1; i < index; ++i) {
            sum +=
                Math.abs(newPos.x - positions[i].x) +
                Math.abs(newPos.y - positions[i].y);
        }
        return sum;
    }
    function calculate() {
        var xArr = [-1, 0, 1, 1, 1, 0, -1, -1];
        var yArr = [-1, -1, -1, 0, 1, 1, 1, 0];
        var newPos;
        var minDistance = 10000000;
        for (var i = 1; i < index; ++i) {
            for (var j = 0; j < 8; ++j) {
                var x = positions[i].x + xArr[j];
                var y = positions[i].y + yArr[j];
                if (flag[x][y]) {
                    continue;
                }
                var newPosition = { x: x, y: y };
                var distance = sDistance(newPosition);
                if (distance < minDistance) {
                    minDistance = distance;
                    newPos = newPosition;
                }
            }
        }
        return newPos;
    }
</script>

</html>